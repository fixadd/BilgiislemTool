{% extends "base.html" %}
{% block title %}Ana Sayfa{% endblock %}
{% block content %}
<h1 class="text-start my-4">Hoş Geldiniz</h1>

<div class="row">
  <div class="col-md-6 mb-4">
    <h2>Cihaz Sayıları</h2>
    <ol class="list-group list-group-numbered">
      {% for name, count in device_summary %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ name }}
        <span class="badge bg-primary rounded-pill">{{ count }}</span>
      </li>
      {% endfor %}
    </ol>
  </div>

  <div class="col-md-6 mb-4">
    <h2>Stok Durumu</h2>
    <ol class="list-group list-group-numbered">
      {% for name, qty in stock_summary %}
      <li class="list-group-item d-flex justify-content-between align-items-center {% if qty == 0 %}bg-danger text-white{% endif %}">
        {{ name }}
        <span class="badge {% if qty == 0 %}bg-light text-dark{% else %}bg-primary{% endif %} rounded-pill">{{ qty }}</span>
      </li>
      {% endfor %}
    </ol>
  </div>
</div>

<div class="mt-4">
  <h2>Son İşlemler</h2>
  <div class="table-responsive">
    <table class="table table-striped">
      <thead>
        <tr>
          <th scope="col">Tarih</th>
          <th scope="col">Kullanıcı</th>
          <th scope="col">İşlem</th>
        </tr>
      </thead>
      <tbody>
        {% for log in actions %}
        <tr>
          <td>{{ log.timestamp }}</td>
          <td>{{ log.username }}</td>
          <td>{{ log.action }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}

{% block scripts %}{% endblock %}

