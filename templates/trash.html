{% extends "base.html" %}
{% block title %}Çöp Kutusu{% endblock %}
{% block content %}
<h2>Silinen Kayıtlar</h2>
<div class="alert alert-warning"><i class="bi bi-exclamation-triangle-fill text-danger me-2"></i>Bu kayıtlar 15 gün sonra kalıcı olarak silinecektir.</div>

<h4>Donanım Envanteri</h4>
<table class="table table-striped table-fixed">
  <tr>
    {% for col in ["demirbas_adi","marka","model","seri_no","lokasyon","zimmetli_kisi","notlar"] %}
    <th>{{ col.replace('_',' ').title() }}</th>
    {% endfor %}
    <th>İşlem</th>
  </tr>
  {% for i in hardware %}
  <tr>
    <td class="text-truncate" style="max-width:150px;" title="{{ i.demirbas_adi }}">{{ i.demirbas_adi }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ i.marka }}">{{ i.marka }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ i.model }}">{{ i.model }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ i.seri_no }}">{{ i.seri_no }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ i.lokasyon }}">{{ i.lokasyon }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ i.zimmetli_kisi }}">{{ i.zimmetli_kisi }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ i.notlar }}">{{ i.notlar }}</td>
    <td>
      <form action="/inventory/restore/{{ i.id }}" method="post" style="display:inline;">
        <button type="submit" class="btn btn-success btn-sm">Geri Yükle</button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>

<h4>Lisans Envanteri</h4>
<table class="table table-striped table-fixed">
  <tr>
    {% for col in ["yazilim_adi","lisans_anahtari","adet","satin_alma_tarihi","bitis_tarihi","zimmetli_kisi","notlar"] %}
    <th>{{ col.replace('_',' ').title() }}</th>
    {% endfor %}
    <th>İşlem</th>
  </tr>
  {% for l in licenses %}
  <tr>
    <td class="text-truncate" style="max-width:150px;" title="{{ l.yazilim_adi }}">{{ l.yazilim_adi }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ l.lisans_anahtari }}">{{ l.lisans_anahtari }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ l.adet }}">{{ l.adet }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ l.satin_alma_tarihi }}">{{ l.satin_alma_tarihi }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ l.bitis_tarihi }}">{{ l.bitis_tarihi }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ l.zimmetli_kisi }}">{{ l.zimmetli_kisi }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ l.notlar }}">{{ l.notlar }}</td>
    <td>
      <form action="/license/restore/{{ l.id }}" method="post" style="display:inline;">
        <button type="submit" class="btn btn-success btn-sm">Geri Yükle</button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>

<h4>Yazıcı Envanteri</h4>
<table class="table table-striped table-fixed">
  <tr>
    {% for col in ["yazici_markasi","yazici_modeli","kullanim_alani","ip_adresi","mac","hostname","notlar"] %}
    <th>{{ col.replace('_',' ').title() }}</th>
    {% endfor %}
    <th>İşlem</th>
  </tr>
  {% for p in printers %}
  <tr>
    <td class="text-truncate" style="max-width:150px;" title="{{ p.yazici_markasi }}">{{ p.yazici_markasi }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ p.yazici_modeli }}">{{ p.yazici_modeli }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ p.kullanim_alani }}">{{ p.kullanim_alani }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ p.ip_adresi }}">{{ p.ip_adresi }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ p.mac }}">{{ p.mac }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ p.hostname }}">{{ p.hostname }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ p.notlar }}">{{ p.notlar }}</td>
    <td>
      <form action="/printer/restore/{{ p.id }}" method="post" style="display:inline;">
        <button type="submit" class="btn btn-success btn-sm">Geri Yükle</button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>

<h4>Stok Takibi</h4>
<table class="table table-striped table-fixed">
  <tr>
    {% for col in ["urun_adi","kategori","marka","adet","lokasyon","guncelleme_tarihi"] %}
    <th>{{ col.replace('_',' ').title() }}</th>
    {% endfor %}
    <th>İşlem</th>
  </tr>
  {% for s in stocks %}
  <tr>
    <td class="text-truncate" style="max-width:150px;" title="{{ s.urun_adi }}">{{ s.urun_adi }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ s.kategori }}">{{ s.kategori }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ s.marka }}">{{ s.marka }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ s.adet }}">{{ s.adet }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ s.lokasyon }}">{{ s.lokasyon }}</td>
    <td class="text-truncate" style="max-width:150px;" title="{{ s.guncelleme_tarihi }}">{{ s.guncelleme_tarihi }}</td>
    <td>
      <form action="/stock/restore/{{ s.id }}" method="post" style="display:inline;">
        <button type="submit" class="btn btn-success btn-sm">Geri Yükle</button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>

{% endblock %}

